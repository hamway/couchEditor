{"_id":"_design/enters","_rev":"17-2d1d340bfeccd09bba6afab8f446a489","language":"javascript","views":{"all":{"map":"function(doc) { if(doc.type == 'enter') {emit(doc.time, doc)}}"},"search_by_time":{"map":"function(doc){ if(doc.type == 'enter' && doc.time) { emit(doc.time, doc); } }"},"search_by_time_no_reg":{"map":"function(doc){ if(doc.type == 'enter' && doc.time && !doc.user_id) { emit(doc.time, doc); } }"},"search_by_id":{"map":"function(doc){ if(doc.type == 'enter' && doc.id) { emit(doc.id, doc); } }"},"search_by_userid":{"map":"function(doc){ if(doc.type == 'enter' && doc.user_id ) { emit(doc.user_id, doc); } }"}},"updates":{"partialUpdate":"function(doc, req) { if (!doc) { return [ null, JSON.stringify({ status: 'nodoc' }) ]; } _ref = JSON.parse(req.body); for (k in _ref) { v = _ref[k]; doc[k] = v; } return [ doc, JSON.stringify({ doc: doc, status: 'updated' }) ]; }"}}